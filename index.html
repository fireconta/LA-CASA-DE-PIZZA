<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Casa de Pizza's</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .header {
            text-align: center;
            padding: 20px;
            background-color: #fff;
            width: 100%;
            border-bottom: 1px solid #e5e7eb;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .header h1 {
            margin: 0;
            font-size: 28px;
            color: #333;
            font-weight: bold;
        }
        .order-info {
            padding: 15px;
            background-color: #e5e7eb;
            text-align: center;
            width: 100%;
            margin-top: 10px;
            border-radius: 8px;
        }
        .order-info p {
            margin: 5px 0;
            font-size: 14px;
            color: #4b5563;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }
        .modal-content {
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            width: 90%;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .modal h2 {
            font-size: 20px;
            margin-bottom: 10px;
            color: #333;
        }
        .modal p {
            font-size: 14px;
            color: #4b5563;
            margin-bottom: 10px;
        }
        .modal select, .modal button {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #e5e7eb;
            border-radius: 4px;
            font-size: 14px;
        }
        .modal button {
            background-color: #22c55e;
            color: #fff;
            border: none;
            cursor: pointer;
        }
        .modal button:hover {
            background-color: #16a34a;
        }
        .tabs {
            display: flex;
            justify-content: space-around;
            background-color: #e5e7eb;
            padding: 10px 0;
            margin: 20px;
            width: 90%;
            border-radius: 8px;
        }
        .tab {
            flex: 1;
            text-align: center;
            padding: 10px;
            cursor: pointer;
            font-weight: bold;
            color: #4b5563;
        }
        .tab.active {
            background-color: white;
            border-radius: 8px;
            color: black;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .promo-banner {
            background-color: #fff;
            margin: 20px;
            padding: 15px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            width: 90%;
        }
        .promo-banner h2 {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        .promo-banner p {
            font-size: 14px;
            color: #4b5563;
        }
        .menu-item {
            background-color: #fff;
            padding: 15px;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin: 20px;
            margin-bottom: 15px;
            width: 90%;
        }
        .menu-item .flex {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .menu-item .discount-tag {
            background-color: #ef4444;
            color: #fff;
            font-size: 12px;
            padding: 5px 10px;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 5px;
        }
        .menu-item h3 {
            font-size: 18px;
            font-weight: bold;
            margin: 5px 0;
        }
        .menu-item p {
            font-size: 14px;
            color: #4b5563;
            margin: 5px 0;
        }
        .menu-item .price-old {
            text-decoration: line-through;
            color: #6b7280;
        }
        .menu-item .price-new {
            color: #22c55e;
            font-weight: bold;
            font-size: 20px;
        }
        .menu-item .availability {
            color: #ef4444;
            font-size: 12px;
            margin-top: 5px;
        }
        .menu-item .menu-img {
            width: 100px;
            height: 100px;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>La Casa de Pizza's</h1>
    </div>

    <div class="order-info">
        <p>üõí Pedido M√≠nimo R$ 10,00 ¬† üö¥ 30-50 min</p>
        <p id="location">üìç Detectando sua localiza√ß√£o...</p>
        <p>‚≠ê 4,9 (2.136 avalia√ß√µes)</p>
    </div>

    <div class="modal" id="locationModal">
        <div class="modal-content">
            <div id="stateStep">
                <h2>Bem-vindo(a)!</h2>
                <p>Em qual estado voc√™ mora?</p>
                <select id="state" name="state">
                    <option value="">Carregando estados...</option>
                </select>
                <button type="button" onclick="loadCities()">Confirmar</button>
            </div>
            <div id="cityStep" style="display: none;">
                <h2>Quase l√°...</h2>
                <p>Em qual cidade voc√™ mora?</p>
                <select id="city" name="city">
                    <option value="">Selecione uma cidade</option>
                </select>
                <button type="button" onclick="showMenu()">Confirmar</button>
            </div>
        </div>
    </div>

    <div id="menuContent" style="display: none;">
        <div class="tabs">
            <div class="tab active" data-tab="combos">Combos</div>
            <div class="tab" data-tab="pizzas-artesanais">Pizzas Artesanais</div>
            <div class="tab" data-tab="pizzas-doces">Pizzas Doces</div>
        </div>

        <div class="promo-banner">
            <h2>Entrega R√°pida para sua regi√£o!</h2>
            <p>Somente hoje: Aproveite nossa promo√ß√£o imperd√≠vel e exclusiva nos combos mais pedidos da casa!</p>
        </div>

        <div id="menuItems"></div>
    </div>

    <script>
        // Carrega os estados da API do IBGE
        async function loadStates() {
            try {
                const response = await fetch('https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome');
                const states = await response.json();
                const stateSelect = document.getElementById('state');
                stateSelect.innerHTML = '<option value="">Selecione um estado</option>';
                states.forEach(state => {
                    const option = document.createElement('option');
                    option.value = state.sigla;
                    option.textContent = state.nome;
                    stateSelect.appendChild(option);
                });
                document.getElementById('locationModal').style.display = 'flex';
            } catch (error) {
                console.error('Erro ao carregar estados:', error);
                alert('N√£o foi poss√≠vel carregar os estados. Tente novamente mais tarde.');
            }
        }

        // Carrega as cidades com base no estado selecionado
        async function loadCities() {
            const stateSelect = document.getElementById('state');
            const cityStep = document.getElementById('cityStep');
            const stateStep = document.getElementById('stateStep');
            const citySelect = document.getElementById('city');
            const selectedState = stateSelect.value;

            if (!selectedState) {
                alert('Por favor, selecione um estado.');
                return;
            }

            try {
                const response = await fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${selectedState}/municipios?orderBy=nome`);
                const cities = await response.json();
                citySelect.innerHTML = '<option value="">Selecione uma cidade</option>';
                cities.forEach(city => {
                    const option = document.createElement('option');
                    option.value = city.nome;
                    option.textContent = city.nome;
                    citySelect.appendChild(option);
                });

                stateStep.style.display = 'none';
                cityStep.style.display = 'block';
            } catch (error) {
                console.error('Erro ao carregar cidades:', error);
                alert('N√£o foi poss√≠vel carregar as cidades. Tente novamente mais tarde.');
            }
        }

        // Carrega e exibe o card√°pio
        async function showMenu() {
            const citySelect = document.getElementById('city');
            const location = document.getElementById('location');
            const menuContent = document.getElementById('menuContent');
            const menuItems = document.getElementById('menuItems');
            const selectedCity = citySelect.value;

            if (!selectedCity) {
                alert('Por favor, selecione uma cidade.');
                return;
            }

            const selectedState = document.getElementById('state').value;
            location.textContent = `üìç ${selectedCity} - ${selectedState}`;
            document.getElementById('locationModal').style.display = 'none';

            // Carrega o conte√∫do do menu.html
            try {
                const response = await fetch('menu.html');
                const html = await response.text();
                menuItems.innerHTML = html;

                // Exibe o menu e ativa a aba "Combos" por padr√£o
                menuContent.style.display = 'block';
                document.querySelector('#combos').classList.add('active');

                // Adiciona eventos para as abas
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                        document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                        tab.classList.add('active');
                        document.getElementById(tab.getAttribute('data-tab')).classList.add('active');
                    });
                });
            } catch (error) {
                console.error('Erro ao carregar o card√°pio:', error);
                alert('N√£o foi poss√≠vel carregar o card√°pio. Tente novamente mais tarde.');
            }
        }

        // Carrega os estados ao iniciar a p√°gina
        window.onload = loadStates;
    </script>
</body>
</html>